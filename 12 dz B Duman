import java.util.ArrayList;
import java.util.List;
import java.util.Date;


class Пользователь {
    private int id;
    private String имя;
    private String фамилия;
    private String логин;
    private String пароль;

    public Пользователь(int id, String имя, String фамилия, String логин, String пароль) {
        this.id = id;
        this.имя = имя;
        this.фамилия = фамилия;
        this.логин = логин;
        this.пароль = пароль;
    }

    public void войти() {}
    public void выйти() {}
    public void изменитьПароль(String новыйПароль) {}
    public int getId() { return id; }
}

class Администратор extends Пользователь {
    public Администратор(int id, String имя, String фамилия, String логин, String пароль) {
        super(id, имя, фамилия, логин, пароль);
    }

    public void добавитьФакультет(Университет университет, Факультет факультет) {
        университет.добавитьФакультет(факультет);
    }
    public void добавитьПользователя(Пользователь пользователь) {}
    public void управлятьКурсами() {}
}

class Студент extends Пользователь {
    private String номерЗачетки;
    private List<Курс> списокКурсов;

    public Студент(int id, String имя, String фамилия, String логин, String пароль, String номерЗачетки) {
        super(id, имя, фамилия, логин, пароль);
        this.номерЗачетки = номерЗачетки;
        this.списокКурсов = new ArrayList<>();
    }

    public void зарегистрироватьсяНаКурс(Курс курс) {
        списокКурсов.add(курс);
        курс.добавитьСтудента(this);
    }
    public void просмотретьОценки() {}
    public void сдатьЭкзамен(Экзамен экзамен) {}
}

class Преподаватель extends Пользователь {
    private String должность;
    private List<Курс> списокКурсов;

    public Преподаватель(int id, String имя, String фамилия, String логин, String пароль, String должность) {
        super(id, имя, фамилия, логин, пароль);
        this.должность = должность;
        this.списокКурсов = new ArrayList<>();
    }

    public void провестиЗанятие(Курс курс) {}
    public void выставитьОценку(Студент студент, Экзамен экзамен, int оценка) {
        экзамен.выставитьОценку(студент, оценка);
    }
    public void управлятьРасписанием(Расписание расписание) {}
    public void добавитьКурс(Курс курс) { списокКурсов.add(курс); }
}

class Университет {
    private String название;
    private List<Факультет> списокФакультетов;

    public Университет(String название) {
        this.название = название;
        this.списокФакультетов = new ArrayList<>();
    }

    public void добавитьФакультет(Факультет факультет) { списокФакультетов.add(факультет); }
}

class Факультет {
    private String название;
    private List<Кафедра> списокКафедр;

    public Факультет(String название) {
        this.название = название;
        this.списокКафедр = new ArrayList<>();
    }

    public void добавитьКафедру(Кафедра кафедра) { списокКафедр.add(кафедра); }
}

class Кафедра {
    private String название;
    private List<Преподаватель> списокПреподавателей;
    private List<Курс> списокКурсов;

    public Кафедра(String название) {
        this.название = название;
        this.списокПреподавателей = new ArrayList<>();
        this.списокКурсов = new ArrayList<>();
    }

    public void добавитьПреподавателя(Преподаватель преподаватель) { списокПреподавателей.add(преподаватель); }
    public void добавитьКурс(Курс курс) { списокКурсов.add(курс); }
}

class Курс {
    private String название;
    private Кафедра кафедра;
    private List<Студент> списокСтудентов;
    private Расписание расписание;

    public Курс(String название, Кафедра кафедра) {
        this.название = название;
        this.кафедра = кафедра;
        this.списокСтудентов = new ArrayList<>();
        кафедра.добавитьКурс(this);
    }

    public void добавитьСтудента(Студент студент) { списокСтудентов.add(студент); }
    public void установитьРасписание(Расписание расписание) { this.расписание = расписание; }
}

class Расписание {
    private Date дата;
    private String время;
    private String аудитория;

    public Расписание(Date дата, String время, String аудитория) {
        this.дата = дата;
        this.время = время;
        this.аудитория = аудитория;
    }

    public void создатьРасписание() {}
    public void изменитьРасписание(Date новаяДата, String новоеВремя, String новаяАудитория) {}
}

class Экзамен {
    private Курс курс;
    private Date дата;
    private List<Оценка> списокОценок;

    public Экзамен(Курс курс, Date дата) {
        this.курс = курс;
        this.дата = дата;
        this.списокОценок = new ArrayList<>();
    }

    public void назначитьЭкзамен() {}
    public void выставитьОценку(Студент студент, int значение) {
        Оценка оценка = new Оценка(студент, this, значение);
        списокОценок.add(оценка);
    }
}

class Оценка {
    private int значение;
    private Студент студент;
    private Экзамен экзамен;

    public Оценка(Студент студент, Экзамен экзамен, int значение) {
        this.студент = студент;
        this.экзамен = экзамен;
        this.значение = значение;
    }

    public void просмотретьДетали() {}
}


class Клиент {
    public boolean подтвердитьВыбор() { return true; }
    public String отправитьОтзыв() { return "Отлично"; }
}

class ПлатежныйШлюз {
    public boolean запроситьПредоплату(double сумма) {
        return сумма > 0;
    }
}

class АдминистраторПлощадки {
    public List<String> подготовитьСписокЗадач() {
        return List.of("Декорации", "Оборудование", "Еда");
    }
}

class Подрядчик {
    private String название;
    public Подрядчик(String название) { this.название = название; }
    public boolean подтвердитьВыполнение(String задача) { return true; }
}

class Менеджер {
    public void получитьОтчет(String отчет) {}
}

class СистемаБронирования {
    private ПлатежныйШлюз платежныйШлюз;
    private List<Подрядчик> списокПодрядчиков;

    public СистемаБронирования(ПлатежныйШлюз пш, List<Подрядчик> подрядчики) {
        this.платежныйШлюз = пш;
        this.списокПодрядчиков = подрядчики;
    }

    public String запроситьДоступность(Date дата, String площадка) {
        if (дата != null && площадка.equals("Главный зал")) {
            return "ДОСТУПНО, стоимость: 50000";
        }
        return "НЕДОСТУПНО, предложите другую дату";
    }

    public String бронированиеМероприятия(Клиент клиент, Date дата, String площадка, double суммаПредоплаты, АдминистраторПлощадки администратор, Менеджер менеджер) {
        String доступность = запроситьДоступность(дата, площадка);
        if (доступность.startsWith("НЕДОСТУПНО")) {
            return "ОТКАЗ: " + доступность;
        }

        if (!клиент.подтвердитьВыбор()) {
            return "ОТКАЗ: Клиент не подтвердил бронирование";
        }

        boolean платежУспешен = платежныйШлюз.запроситьПредоплату(суммаПредоплаты);
        if (!платежУспешен) {
            return "ОТКАЗ: Платеж отклонен. Повторите оплату.";
        }
        
        уведомитьАдминистратора(администратор);

        List<String> задачи = администратор.подготовитьСписокЗадач();
        boolean всеЗадачиВыполнены = организацияМероприятия(задачи);

        if (всеЗадачиВыполнены) {
            отчетОПодготовке(администратор);
            завершениеМероприятия(клиент, менеджер);
            return "БРОНИРОВАНИЕ ПОДТВЕРЖДЕНО. Мероприятие успешно завершено.";
        }
        return "БРОНИРОВАНИЕ ПОДТВЕРЖДЕНО, но задачи не выполнены.";
    }

    private void уведомитьАдминистратора(АдминистраторПлощадки администратор) {}

    private boolean организацияМероприятия(List<String> задачи) {
        for (Подрядчик подрядчик : списокПодрядчиков) {
            for (String задача : задачи) {
                if (!подрядчик.подтвердитьВыполнение(задача)) {
                    return false;
                }
            }
        }
        return true;
    }

    private void отчетОПодготовке(АдминистраторПлощадки администратор) {}

    private void завершениеМероприятия(Клиент клиент, Менеджер менеджер) {
        String отзыв = клиент.отправитьОтзыв();
        String отчетОбОтзывах = "Отчет: " + отзыв;
        менеджер.получитьОтчет(отчетОбОтзывах);
    }
}
